---
title: "Bald eagle in British Columbia - Spatial Exploration"
author: "Shayla Tran, Matthew Angoh & Kyle Deng"
date: "2024-04-17"
output: html_document
---

# DATA 589 - Spatial Data Analysis on Bald eagle Occurrences in British Columbia

There is a total of 104,9411 occurrences recorded of Bald eagle or *Haliaeetus leucocephalus (Linnaeus, 1766)* within Canada between 1848 and 2024. This data is directly downloaded from the source GBIF.

## 1) Processing of Raw Data

Here, we load in the `BC_Covariates.Rda` data. We will also read in the `eagles_bc.csv` dataset which contains 5000 sample occurrences of Bold eagle.

```{r, include=FALSE, message=FALSE}
# Load necessary libraries
library(tidyverse)
library(spatstat)
library(sf)
library(polyCub)
```

```{r, warning=FALSE, message=FALSE}
load("data/BC_Covariates.Rda") # BC covariate data with window

# Reading in the occurrences data
occurrence_eagles <- read_csv("data/eagles_bc.csv") 
```

Creating the `ppp` object and plotting the Bold eagle occurrences into the window.

```{r}
window <- as.owin(DATA$Window) # Create an owin object with the window in the covariates dataset so it can be used to create the ppp object later

# Create the ppp object
eagles_ppp <- ppp(x = occurrence_eagles$X, y = occurrence_eagles$Y, window = window) # Obtain a ppp object with the coordinate and window data 

# Plot the ppp object
plot(eagles_ppp,
     cols = 4,
     pch = 16,
     main = "Eagles occurrence data in BC")
```

